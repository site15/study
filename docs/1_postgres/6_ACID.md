**ACID** โ ััะพ ะฝะฐะฑะพั ะฟัะฐะฒะธะป, ะบะพัะพััะต ะณะฐัะฐะฝัะธัััั, ััะพ ะฑะฐะทะฐ ะดะฐะฝะฝัั **ะฝะต ัะปะพะผะฐะตััั**, ะดะฐะถะต ะตัะปะธ ะฒัั ะธะดัั ะฝะต ะฟะพ ะฟะปะฐะฝั.
ะะฑัััะฝัั **ะพัะตะฝั ะฟัะพัััะผ ัะทัะบะพะผ**, ะบะฐะบ ะดะปั ัะพะฑะตัะฐ ๐

---

# ๐ ะงัะพ ัะฐะบะพะต ACID

**ACID** โ ััะพ 4 ัะฒะพะนััะฒะฐ ััะฐะฝะทะฐะบัะธะน:

> **Atomicity, Consistency, Isolation, Durability**

ะะพะถะฝะพ ะทะฐะฟะพะผะฝะธัั ะบะฐะบ:

> **ยซะปะธะฑะพ ะฒัั, ะปะธะฑะพ ะฝะธัะตะณะพ โ ะธ ะฒัะตะณะดะฐ ะฝะฐะดัะถะฝะพยป**

---

## **A โ Atomicity (ะัะพะผะฐัะฝะพััั)**

**ยซะะปะธ ะฒัั ะฒัะฟะพะปะฝะธะปะพัั, ะธะปะธ ะฝะธัะตะณะพยป**

### ะัะพัััะผะธ ัะปะพะฒะฐะผะธ

ะขัะฐะฝะทะฐะบัะธั โ ััะพ ะพะดะธะฝ ะฝะตะดะตะปะธะผัะน ะฑะปะพะบ.

ะัะปะธ ะฒะฝัััะธ 5 ะพะฟะตัะฐัะธะน ะธ ะพะดะฝะฐ ัะฟะฐะปะฐ โ **ะพัะบะฐััะฒะฐะตััั ะฒัั**.

### ะัะธะผะตั

ะะตัะตะฒะพะด ะดะตะฝะตะณ:

```text
- ัะฟะธัะฐัั 100โฝ ัะพ ััััะฐ ะ
- ะทะฐัะธัะปะธัั 100โฝ ะฝะฐ ัััั B
```

ะัะปะธ ะดะตะฝัะณะธ ัะฟะธัะฐะปะธัั, ะฝะพ ะฝะต ะทะฐัะธัะปะธะปะธัั โ **rollback**, ะบะฐะบ ะฑัะดัะพ ะฝะธัะตะณะพ ะฝะต ะฑัะปะพ.

๐ ะะธะบะฐะบะธั ยซะฟะพะปัะฟะตัะตะฒะพะดะพะฒยป.

---

## **C โ Consistency (ะกะพะณะปะฐัะพะฒะฐะฝะฝะพััั)**

**ยซะะพัะปะต ััะฐะฝะทะฐะบัะธะธ ะฑะฐะทะฐ ะพััะฐัััั ะบะพััะตะบัะฝะพะนยป**

### ะัะพัััะผะธ ัะปะพะฒะฐะผะธ

ะะฐะทะฐ **ะฒัะตะณะดะฐ ัะพะฑะปัะดะฐะตั ัะฒะพะธ ะฟัะฐะฒะธะปะฐ**:

* constraints
* foreign keys
* unique
* not null
* ะฑะธะทะฝะตั-ะธะฝะฒะฐัะธะฐะฝัั

### ะัะธะผะตั

ะัะปะธ ะฟะพ ะฟัะฐะฒะธะปะฐะผ:

```text
balance >= 0
```

ะขะพ ััะฐะฝะทะฐะบัะธั, ะบะพัะพัะฐั ะฟัะธะฒะพะดะธั ะบ `-100`, **ะฟัะพััะพ ะฝะต ะทะฐะบะพะผะผะธัะธััั**.

๐ ะะฐะทะฐ ะฝะต ะฟะตัะตัะพะดะธั ะฒ ยซัะปะพะผะฐะฝะฝะพะตยป ัะพััะพัะฝะธะต.

---

## **I โ Isolation (ะะทะพะปะธัะพะฒะฐะฝะฝะพััั)**

**ยซะขัะฐะฝะทะฐะบัะธะธ ะฝะต ะผะตัะฐัั ะดััะณ ะดััะณัยป**

### ะัะพัััะผะธ ัะปะพะฒะฐะผะธ

ะัะปะธ ะดะฒะต ะพะฟะตัะฐัะธะธ ะธะดัั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ:

* ะพะฝะธ **ะฝะต ะฒะธะดัั ะณััะทะฝัะต ะดะฐะฝะฝัะต**
* ัะตะทัะปััะฐั ัะฐะบะพะน, ะบะฐะบ ะฑัะดัะพ ะพะฝะธ ะฒัะฟะพะปะฝัะปะธัั ะฟะพ ะพัะตัะตะดะธ

### ะัะธะผะตั

ะะฒะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพะบัะฟะฐัั **ะฟะพัะปะตะดะฝะธะน ัะพะฒะฐั**.

ะะทะพะปััะธั ะณะฐัะฐะฝัะธััะตั:

* ัะพะฒะฐั ะบัะฟะธั **ัะพะปัะบะพ ะพะดะธะฝ**
* ะฝะต ะฑัะดะตั ะดะฒะพะนะฝะพะน ะฟัะพะดะฐะถะธ

๐ PostgreSQL ะฟะพ ัะผะพะปัะฐะฝะธั: `READ COMMITTED`.

---

## **D โ Durability (ะะฐะดัะถะฝะพััั)**

**ยซะะฐะบะพะผะผะธัะธะปะพัั โ ะทะฝะฐัะธั ะฝะต ะฟะพัะตััะตัััยป**

### ะัะพัััะผะธ ัะปะพะฒะฐะผะธ

ะัะปะธ ะฑะฐะทะฐ ัะบะฐะทะฐะปะฐ **COMMIT OK**, ัะพ:

* ะดะฐะถะต ะตัะปะธ ัะตัะฒะตั ัะฟะฐะดัั
* ะดะฐะถะต ะตัะปะธ ะฟะตัะตะทะฐะณััะทะบะฐ
* ะดะฐะถะต ะตัะปะธ ะบััั

ะดะฐะฝะฝัะต **ะพััะฐะฝัััั**.

### ะะฐะบ ะดะพััะธะณะฐะตััั

* WAL (Write-Ahead Log)
* fsync
* ัะตะฟะปะธะบะฐัะธั

---

## ๐ง ะะพัะพัะบะฐั ะฒะตััะธั ะดะปั ัะพะฑะตัะฐ (ะทะพะปะพัะพ)

> **ACID** โ ััะพ ะณะฐัะฐะฝัะธั, ััะพ ััะฐะฝะทะฐะบัะธะธ ะปะธะฑะพ ะฒัะฟะพะปะฝััััั ะฟะพะปะฝะพัััั, ะปะธะฑะพ ะฝะต ะฒัะฟะพะปะฝััััั ะฒะพะพะฑัะต, ะฝะต ะปะพะผะฐัั ัะตะปะพััะฝะพััั ะดะฐะฝะฝัั, ะฝะต ะผะตัะฐัั ะดััะณ ะดััะณั ะธ ะฝะต ัะตัััััั ะฟะพัะปะต ะบะพะผะผะธัะฐ.

---

## โ๏ธ ะงะฐััะฐั ะปะพะฒััะบะฐ ะฝะฐ ัะพะฑะตัะต

**ะะพะฟัะพั:**

> ACID โ ััะพ ัะฒะพะนััะฒะพ ะฑะฐะทั ะดะฐะฝะฝัั?

**ะัะฐะฒะธะปัะฝัะน ะพัะฒะตั:**

> ะญัะพ ัะฒะพะนััะฒะพ **ััะฐะฝะทะฐะบัะธะน**, ัะตะฐะปะธะทะพะฒะฐะฝะฝะพะต ะกะฃะะ.

---

## ๐ฏ ะะธะฝะธ-ะฐะฝะฐะปะพะณะธั

ACID โ ะบะฐะบ ะฑะฐะฝะบะพะฒัะบะธะน ัะตะนั:

* ๐ ะปะธะฑะพ ะดะตะฝัะณะธ ะฒะฝัััะธ, ะปะธะฑะพ ะฝะตั
* ๐ ะฟัะฐะฒะธะปะฐ ะฝะต ะฝะฐัััะฐัััั
* ๐ ะบะปะธะตะฝัั ะฝะต ะฟะพะดะณะปัะดัะฒะฐัั ะดััะณ ะทะฐ ะดััะณะพะผ
* ๐งฑ ะฟะพัะปะต ะทะฐะบัััะธั ัะตะนั ะฝะต ะฟัะพะฟะฐะดัั
